function M(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}class d extends Map{constructor(t,n=a){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,f]of t)this.set(r,f)}get(t){return super.get(g(this,t))}has(t){return super.has(g(this,t))}set(t,n){return super.set(y(this,t),n)}delete(t){return super.delete(k(this,t))}}function g({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function y({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function k({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function a(e){return e!==null&&typeof e=="object"?e.valueOf():e}function N(e){return e}function j(e,...t){return x(e,Array.from,N,t)}function x(e,t,n,r){return(function f(c,i){if(i>=r.length)return n(c);const s=new d,h=r[i++];let l=-1;for(const o of c){const u=h(o,++l,c),p=s.get(u);p?p.push(o):s.set(u,[o])}for(const[o,u]of s)s.set(o,f(u,i));return t(s)})(e,0)}export{M as d,j as g};
