import{G as q,a0 as o,a1 as E,a2 as w,a3 as v,a4 as C,a5 as _,a6 as F,a7 as T,a8 as D,J as d,a9 as g,aa as O,ab as R,ac as h,ad as N,ae as A,O as B,af as p,ag as I,ah as Y,ai as z,aj as L,n as l,f as j,ak as x}from"./CHpXfHxC.js";function k(s,n){var e={f:0,v:s,reactions:null,equals:A,rv:0,wv:0};return e}function S(s){return G(k(s))}function U(s,n=!1){const e=k(s);return n||(e.equals=B),e}function G(s){return o!==null&&!E&&(o.f&v)!==0&&(_===null?T([s]):_.push(s)),s}function H(s,n){return o!==null&&!E&&w()&&(o.f&(v|C))!==0&&(_===null||!_.includes(s))&&F(),J(s,n)}function J(s,n){return s.equals(n)||(s.v,s.v=n,s.wv=D(),m(s,p),d!==null&&(d.f&g)!==0&&(d.f&(O|R))===0&&(h===null?N([s]):h.push(s))),n}function V(s,n=1){var e=q(s),a=n===1?e++:e--;return H(s,e),a}function m(s,n){var e=s.reactions;if(e!==null)for(var a=e.length,u=0;u<a;u++){var r=e[u],c=r.f;(c&p)===0&&(I(r,n),(c&(g|Y))!==0&&((c&v)!==0?m(r,z):L(r)))}}function K(s,n,e){if(s==null)return n(void 0),l;const a=j(()=>s.subscribe(n,e));return a.unsubscribe?()=>a.unsubscribe():a}const f=[];function W(s,n=l){let e=null;const a=new Set;function u(i){if(x(s,i)&&(s=i,e)){const b=!f.length;for(const t of a)t[1](),f.push(t,s);if(b){for(let t=0;t<f.length;t+=2)f[t][0](f[t+1]);f.length=0}}}function r(i){u(i(s))}function c(i,b=l){const t=[i,b];return a.add(t),a.size===1&&(e=n(u,r)||l),i(s),()=>{a.delete(t),a.size===0&&e&&(e(),e=null)}}return{set:u,update:r,subscribe:c}}function $(s){let n;return K(s,e=>n=e)(),n}export{H as a,S as b,K as c,$ as g,J as i,U as m,k as s,V as u,W as w};
