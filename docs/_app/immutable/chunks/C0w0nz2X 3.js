import{b as N,h,a as m,E as R,$ as x,a0 as D,a1 as F,a2 as L,a3 as b,c as q,d as y,e as C,a4 as O,s as Y,a5 as B,p as H,f as M,a6 as P,a7 as U,n as Z,a8 as $,S as j}from"./Dzm_WEGj.js";function z(e,t,l=!1){h&&m();var i=e,s=null,a=null,r=O,S=l?R:0,d=!1;const g=(c,f=!0)=>{d=!0,v(f,c)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var c=r?s:a,f=r?a:s;c&&B(c),f&&H(f,()=>{r?a=null:s=null})}const v=(c,f)=>{if(r===(r=c))return;let p=!1;if(h){const I=x(i)===D;!!r===I&&(i=F(),L(i),b(!1),p=!0)}var T=Y(),u=i;if(T&&(n=document.createDocumentFragment(),n.append(u=q())),r?s??(s=f&&y(()=>f(u))):a??(a=f&&y(()=>f(u))),T){var _=C,E=r?s:a,k=r?a:s;E&&_.skipped_effects.delete(E),k&&_.skipped_effects.add(k),_.add_callback(o)}else o();p&&b(!0)};N(()=>{d=!1,t(g),d||v(null,null)},S),h&&(i=M)}function A(e,t){return e===t||(e==null?void 0:e[j])===t}function G(e={},t,l,i){return P(()=>{var s,a;return U(()=>{s=a,a=[],Z(()=>{e!==l(...a)&&(t(e,...a),s&&A(l(...s),e)&&t(null,...s))})}),()=>{$(()=>{a&&A(l(...a),e)&&t(null,...a)})}}),e}export{G as b,z as i};
