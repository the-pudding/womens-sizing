import{b as I,h,a as N,E as R,H as o,k as q,s as v,m as d,o as T,c as E,p as A,U as L,d as g,q as x,v as D,f as F,w as H,S as O}from"./CHpXfHxC.js";function Y(a,r,e=!1){h&&N();var i=a,f=null,s=null,c=L,b=e?R:0,l=!1;const k=(n,t=!0)=>{l=!0,u(t,n)},u=(n,t)=>{if(c===(c=n))return;let _=!1;if(h){const y=i.data===o;!!c===y&&(i=q(),v(i),d(!1),_=!0)}c?(f?T(f):t&&(f=E(()=>t(i))),s&&A(s,()=>{s=null})):(s?T(s):t&&(s=E(()=>t(i))),f&&A(f,()=>{f=null})),_&&d(!0)};I(()=>{l=!1,r(k),l||u(null,null)},b),h&&(i=g)}function S(a,r){return a===r||(a==null?void 0:a[O])===r}function p(a={},r,e,i){return x(()=>{var f,s;return D(()=>{f=s,s=[],F(()=>{a!==e(...s)&&(r(a,...s),f&&S(e(...f),a)&&r(null,...f))})}),()=>{H(()=>{s&&S(e(...s),a)&&r(null,...s)})}}),a}export{p as b,Y as i};
